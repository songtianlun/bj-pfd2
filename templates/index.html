{{ define "content" }}
<!--<p class="lead justify-content-center text-center" style="height: 300px">-->
<!--  简单高效的地理位置收藏夹，快速收藏、分类整理。</br>-->
<!--</p>-->
</br>
<!--<p class="text-center" style="padding: 100px 0;">简单高效的地理位置收藏夹，快速收藏、分类整理。</p>-->
<dev>
    <div class="part">
        <p>Hi {{ .Token }}.</p>
    </div>
</dev>

<div class="row blockGroup">
    <div class="col-md-4 col-sm-6"><div class="block">
        <p class="text-center bjpfd-statistic-title">资产总额</p>
        <p class="text-center bjpfd-statistic-value">¥ {{ .SumMoneyStr }} ({{ .SumCreditStr }})</p>
    </div></div>
    <div class="col-md-4 col-sm-6"><div class="block">
        <p class="text-center bjpfd-statistic-title">投资总额</p>
        <p class="text-center bjpfd-statistic-value">¥ {{ .SumInvestmentStr }}</p>
    </div></div>
    <div class="col-md-4 col-sm-6"><div class="block">
        <p class="text-center bjpfd-statistic-title">收益总额</p>
        <p class="text-center bjpfd-statistic-value">¥ {{ .SumInvestmentIncomeStr }}</p>
    </div></div>

    <div class="col-md-4 col-sm-6"><div class="block">
        <p class="text-center bjpfd-statistic-title">收支状况</p>
        <p class="text-center bjpfd-statistic-value">¥ {{.SumBillsIncomeStr}} / {{.SumBillsSpendStr}}</p>
    </div></div>
    <div class="col-md-4 col-sm-6"><div class="block">
        <p class="text-center bjpfd-statistic-title">本年收支</p>
        <p class="text-center bjpfd-statistic-value">¥ {{.SumThisYearIncomeStr}} / {{.SumThisYearSpendStr}}</p>
    </div></div>
    <div class="col-md-4 col-sm-6"><div class="block">
        <p class="text-center bjpfd-statistic-title">本月收支</p>
        <p class="text-center bjpfd-statistic-value">¥ {{.SumThisMonthIncomeStr}} / {{.SumThisMonthSpendStr}}</p>
    </div></div>
</div>

<div class="charts">
    <div class="part">
        <div id="ChartOverview" style="height:400px;width: 100%"></div>
    </div>
    <div class="part">
        <div id="ChartWaterfallYear" style="height:400px;width: 100%"></div>
    </div>
    <div class="part">
        <div id="ChartWaterfallMonth" style="height:400px;width: 100%"></div>
    </div>
    <div class="part">
        <div id="ChartSpendYear" style="height:400px;width: 100%"></div>
    </div>
    <div class="part">
        <div id="ChartSpendMonth" style="height:400px;width: 100%"></div>
    </div>
    <div class="part">
        <div id="ChartSpendMonthWithBudget" style="height:400px;width: 100%"></div>
    </div>
    <div class="part">
        <div id="ChartSpendDay" style="height:400px;width: 100%"></div>
    </div>
    <div class="part">
        <div id="ChartInvestYear" style="height:400px;width: 100%"></div>
    </div>
    <div class="part">
        <div id="ChartInvestMonth" style="height:400px;width: 100%"></div>
    </div>
</div>

<script type="text/javascript">
    let ChartOverviewTypeData = []
    let ChartOverviewData = []

    {{range $key,$value := .OverviewType }}
    ChartOverviewTypeData.push({
        name: '{{$key}}',
        value: {{$value}}
    })
    {{end}}
    {{range $key,$value := .Overview }}
    ChartOverviewData.push({
        name: '{{$key}}',
        value: {{$value}}
    })
    {{end}}
    handle.registerEChartsOption('ChartOverview', {
        title: {
            text: '资产总况',
            subtext: '',
        },
        tooltip: {
            trigger: 'item',
            formatter: '{a} <br/>{b}: {c} ({d}%)',
            textStyle: {
                fontWeight: 300,
                fontSize: 10,
                width: 4,
            },
        },
        series: [
            {
                name: '资产总况/分类统计',
                type: 'pie',
                selectedMode: 'single',
                radius: [0, '30%'],
                label: {
                    position: 'inner',
                    fontSize: 14
                },
                labelLine: {
                    show: false
                },
                itemStyle: {
                    borderRadius: 4,
                    // borderColor: '#fff',
                    borderWidth: 1,
                    shadowColor: 'rgba(0, 0, 0, 0.5)',
                    shadowBlur: 10
                },
                data: ChartOverviewTypeData
            },
            {
                name: '资产总况',
                type: 'pie',
                radius: ['45%', '60%'],
                labelLine: {
                    length: 30
                },
                label: {
                    formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ',
                    backgroundColor: '#F6F8FC',
                    borderColor: '#8C8D8E',
                    borderWidth: 1,
                    borderRadius: 4,
                    rich: {
                        a: {
                            color: '#6E7079',
                            lineHeight: 22,
                            align: 'center'
                        },
                        hr: {
                            borderColor: '#8C8D8E',
                            width: '100%',
                            borderWidth: 1,
                            height: 0
                        },
                        b: {
                            color: '#4C5058',
                            fontSize: 14,
                            fontWeight: 'bold',
                            lineHeight: 33
                        },
                        per: {
                            color: '#fff',
                            backgroundColor: '#4C5058',
                            padding: [3, 4],
                            borderRadius: 4
                        }
                    }
                },
                itemStyle: {
                    borderRadius: 4,
                    // borderColor: '#fff',
                    borderWidth: 1,
                    shadowColor: 'rgba(0, 0, 0, 0.5)',
                    shadowBlur: 10
                },
                data: ChartOverviewData
            }
        ]
    })

    let ChartWaterfallYearXAxis = []
    let ChartWaterfallYearAll = []
    let ChartWaterfallYearAdd = []
    let ChartWaterfallYearSub = []

    {{range $key,$value := .WaterfallYearAll }}
    ChartWaterfallYearAll.push({{$value}}.toFixed(2))
    ChartWaterfallYearXAxis.push({{$key}})
    {{end}}

    {{range $value := .WaterfallYearAdd }}
    if ({{$value}} == 0) {
        ChartWaterfallYearAdd.push('-')
    } else {
        ChartWaterfallYearAdd.push({{$value}}.toFixed(2))
    }
    // ChartWaterfallYearAdd.push({{$value}}.toFixed(2))
    {{end}}

    {{range $value := .WaterfallYearSub }}
    if ({{$value}} == 0) {
        ChartWaterfallYearSub.push('-')
    } else {
        ChartWaterfallYearSub.push({{$value}}.toFixed(2))
    }
    // ChartWaterfallYearSub.push({{$value}}.toFixed(2))
    {{end}}

    handle.registerEchartsWaterfall("ChartWaterfallYear", "资产瀑布图（年）",
        ChartWaterfallYearXAxis, ChartWaterfallYearAll, ChartWaterfallYearAdd, ChartWaterfallYearSub);

    let ChartWaterfallMonthXAxis = []
    let ChartWaterfallMonthAll = []
    let ChartWaterfallMonthAdd = []
    let ChartWaterfallMonthSub = []
    {{range $key,$value := .WaterfallMonthAll }}
    ChartWaterfallMonthAll.push({{$value}}.toFixed(2))
    ChartWaterfallMonthXAxis.push({{$key}})
    {{end}}
    {{range $value := .WaterfallMonthAdd }}
    if ({{$value}} == 0) {
        ChartWaterfallMonthAdd.push('-')
    } else {
        ChartWaterfallMonthAdd.push({{$value}}.toFixed(2))
    }
    {{end}}
    {{range $value := .WaterfallMonthSub }}
    if ({{$value}} == 0) {
        ChartWaterfallMonthSub.push('-')
    } else {
        ChartWaterfallMonthSub.push({{$value}}.toFixed(2))
    }
    {{end}}

    handle.registerEchartsWaterfall("ChartWaterfallMonth", "资产瀑布图（月）",
        ChartWaterfallMonthXAxis, ChartWaterfallMonthAll, ChartWaterfallMonthAdd, ChartWaterfallMonthSub);


    handle.registerEChartsOption("ChartSpendYear", {
        title: {
            text: '消费趋势统计（按年/分类）'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        legend: {
            data: ['Email', 'Union Ads', 'Video Ads', 'Direct', 'Search Engine']
        },
        toolbox: {
            feature: {
                saveAsImage: {}
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                type: 'category',
                boundaryGap: false,
                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            }
        ],
        yAxis: [
            {
                type: 'value'
            }
        ],
        series: [
            {
                name: 'Email',
                type: 'line',
                stack: 'Total',
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: [120, 132, 101, 134, 90, 230, 210]
            },
            {
                name: 'Union Ads',
                type: 'line',
                stack: 'Total',
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: [220, 182, 191, 234, 290, 330, 310]
            },
            {
                name: 'Video Ads',
                type: 'line',
                stack: 'Total',
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: [150, 232, 201, 154, 190, 330, 410]
            },
            {
                name: 'Direct',
                type: 'line',
                stack: 'Total',
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: [320, 332, 301, 334, 390, 330, 320]
            },
            {
                name: 'Search Engine',
                type: 'line',
                stack: 'Total',
                label: {
                    show: true,
                    position: 'top'
                },
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: [820, 932, 901, 934, 1290, 1330, 1320]
            }
        ]
    })
    handle.registerEChartsOption("ChartSpendMonth", {
        color: ['#80FFA5', '#00DDFF', '#37A2FF', '#FF0087', '#FFBF00'],
        title: {
            text: '消费趋势统计（按月/分类）'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        legend: {
            data: ['Line 1', 'Line 2', 'Line 3', 'Line 4', 'Line 5']
        },
        toolbox: {
            feature: {
                saveAsImage: {}
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                type: 'category',
                boundaryGap: false,
                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            }
        ],
        yAxis: [
            {
                type: 'value'
            }
        ],
        series: [
            {
                name: 'Line 1',
                type: 'line',
                stack: 'Total',
                smooth: true,
                lineStyle: {
                    width: 0
                },
                showSymbol: false,
                areaStyle: {
                    opacity: 0.8,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        {
                            offset: 0,
                            color: 'rgb(128, 255, 165)'
                        },
                        {
                            offset: 1,
                            color: 'rgb(1, 191, 236)'
                        }
                    ])
                },
                emphasis: {
                    focus: 'series'
                },
                data: [140, 232, 101, 264, 90, 340, 250]
            },
            {
                name: 'Line 2',
                type: 'line',
                stack: 'Total',
                smooth: true,
                lineStyle: {
                    width: 0
                },
                showSymbol: false,
                areaStyle: {
                    opacity: 0.8,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        {
                            offset: 0,
                            color: 'rgb(0, 221, 255)'
                        },
                        {
                            offset: 1,
                            color: 'rgb(77, 119, 255)'
                        }
                    ])
                },
                emphasis: {
                    focus: 'series'
                },
                data: [120, 282, 111, 234, 220, 340, 310]
            },
            {
                name: 'Line 3',
                type: 'line',
                stack: 'Total',
                smooth: true,
                lineStyle: {
                    width: 0
                },
                showSymbol: false,
                areaStyle: {
                    opacity: 0.8,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        {
                            offset: 0,
                            color: 'rgb(55, 162, 255)'
                        },
                        {
                            offset: 1,
                            color: 'rgb(116, 21, 219)'
                        }
                    ])
                },
                emphasis: {
                    focus: 'series'
                },
                data: [320, 132, 201, 334, 190, 130, 220]
            },
            {
                name: 'Line 4',
                type: 'line',
                stack: 'Total',
                smooth: true,
                lineStyle: {
                    width: 0
                },
                showSymbol: false,
                areaStyle: {
                    opacity: 0.8,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        {
                            offset: 0,
                            color: 'rgb(255, 0, 135)'
                        },
                        {
                            offset: 1,
                            color: 'rgb(135, 0, 157)'
                        }
                    ])
                },
                emphasis: {
                    focus: 'series'
                },
                data: [220, 402, 231, 134, 190, 230, 120]
            },
            {
                name: 'Line 5',
                type: 'line',
                stack: 'Total',
                smooth: true,
                lineStyle: {
                    width: 0
                },
                showSymbol: false,
                label: {
                    show: true,
                    position: 'top'
                },
                areaStyle: {
                    opacity: 0.8,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        {
                            offset: 0,
                            color: 'rgb(255, 191, 0)'
                        },
                        {
                            offset: 1,
                            color: 'rgb(224, 62, 76)'
                        }
                    ])
                },
                emphasis: {
                    focus: 'series'
                },
                data: [220, 302, 181, 234, 210, 290, 150]
            }
        ]
    })
    handle.registerEChartsOption("ChartSpendMonthWithBudget", {
        title: {
            text: '预算消费趋势对比（按月）'
        },
        xAxis: {
            type: 'category',
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
        },
        yAxis: {
            type: 'value'
        },
        series: [
            {
                data: [820, 932, 901, 934, 1290, 1330, 1320],
                type: 'line',
                smooth: true
            },
            {
                data: [120, 32, 29, 34, 290, 130, 120],
                type: 'line',
                smooth: true
            }
        ]
    })
    handle.registerEChartsOption("ChartSpendDay", {
        title: {
            text: '消费趋势统计（按日/分类）'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        legend: {
            data: ['Email', 'Union Ads', 'Video Ads', 'Direct', 'Search Engine']
        },
        toolbox: {
            feature: {
                saveAsImage: {}
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                type: 'category',
                boundaryGap: false,
                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            }
        ],
        yAxis: [
            {
                type: 'value'
            }
        ],
        series: [
            {
                name: 'Email',
                type: 'line',
                stack: 'Total',
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: [120, 132, 101, 134, 90, 230, 210]
            },
            {
                name: 'Union Ads',
                type: 'line',
                stack: 'Total',
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: [220, 182, 191, 234, 290, 330, 310]
            },
            {
                name: 'Video Ads',
                type: 'line',
                stack: 'Total',
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: [150, 232, 201, 154, 190, 330, 410]
            },
            {
                name: 'Direct',
                type: 'line',
                stack: 'Total',
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: [320, 332, 301, 334, 390, 330, 320]
            },
            {
                name: 'Search Engine',
                type: 'line',
                stack: 'Total',
                label: {
                    show: true,
                    position: 'top'
                },
                areaStyle: {},
                emphasis: {
                    focus: 'series'
                },
                data: [820, 932, 901, 934, 1290, 1330, 1320]
            }
        ]
    })
    handle.registerEChartsOption("ChartInvestYear", {
        title: {
            text: '投资趋势统计（按年）'
        },
        xAxis: {
            type: 'category',
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
        },
        yAxis: {
            type: 'value'
        },
        series: [
            {
                data: [820, 932, 901, 934, 1290, 1330, 1320],
                type: 'line',
                smooth: true
            }
        ]
    })
    handle.registerEChartsOption("ChartInvestMonth", {
        title: {
            text: '投资趋势统计（按月）'
        },
        xAxis: {
            type: 'category',
            data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
        },
        yAxis: {
            type: 'value'
        },
        series: [
            {
                data: [820, 932, 901, 934, 1290, 1330, 1320],
                type: 'line',
                smooth: true
            }
        ]
    })

</script>

{{ end }}